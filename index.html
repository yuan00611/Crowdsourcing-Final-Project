<!DOCTYPE html>
<html>
<head>
	<title>Image Caption Task</title>
	<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
	<link rel="stylesheet" type="text/css" href="index.css" />
    <script type='text/javascript' src='https://s3.amazonaws.com/mturk-public/externalHIT_v1.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Gochi+Hand|Oleo+Script|Open+Sans|Roboto&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/532f55454b.js" crossorigin="anonymous"></script>
</head>

<body>

<div id="sidebar">
	<div id="instruction">
		<h2> Welcome</h2>
			<p>Thank you for joining our research! Your involvement will help to improve automatically-generated image captions and assit blind and visually impaired people learn about image contents.</p>
			<p>To guarantee the quality of data collected, please read carefully the following instructions and pass a <i><b>test</b></i> for getting started with the HIT.</p>
			<p>
		<h2>Instruction</h2>
			<h3>Guidance
				<h4>Task 1</h4>
					<p>1. Look at the image.</p>
					<p>2. You will be shown 5 captions. Please highlight the words/phrases you think are most important to understand the image and hope to appear in the caption.</p>
					<p>3. You need to highlight <b>5</b> words/phrases. The words/phrases highlighted should have <b>substantial & single</b> meanings, such as "dog", "happy", "run" etc. instead of "at/in/on" "a/an/the" or "kind of".</p>
					<p>4. The words/phrases highlighted need to be complete.</p>
					<p>5. Click <b>EXAMPLES</b> below for reference.</p>
				<h4>Task 2</h4>
					<p>1. Rank the elements according to their importance in your opinion.</p>
					<p>2. From 1 to 5 it indicates "the most important" to "the least important"</p>
				<h4>Task 3</h4>
					<p>1. Choose your favorite caption.</p>
					<p>2. Input reasons for your selections above.</p>
					<p>3. Click Submit button and done!</p>
			<h3>Operation</h3>
				<ul>
					<li>Click and drag to the end of words/phrases to highlight the elements you think are important.</li>
					<br>
					<li>You can change your selection by clicking the <i><b>undo last step</b></i> button to withdraw your last move, or the <i><b>clear all</b></i> button to redo the test.</li>
				</ul>

		<script type="text/javascript" src="menulist.js"></script>

		<button id="show" type="button"><span>Check examples</span></button>
		<br>
		<div id="example">
			<!-- <style="display:none"> -->
			<table>
				<tr>
					<td>
						<h3>Right example</h3>
						<img src="img/rightexample.png">
					</td>
				</tr>
				<tr>
					<td>
						<h3>Wrong example</h3>
						<img src="img/wrongexample.png">
					</td>
				</tr>
			</table>	
	 	</div>
	 	<button id="bkd" type="button"><span>Learn more</span></button>
		<div id="moreinfo" style="display:none">
			<p>This task aims to help blind and visually impaired people to understand images. The research results will help to improve machine performance in generating description of the images automatically.</p>
	 	</div>
	</div>
</div>

<!-- test part -->

<div id="prototype">
	<h1>Here goes the test. Select the important things in the captions!</h1>
	<div onmouseup="labelText('rankListTest')">
		<h3> Task 1: Highlight the 5 important elements</h3>
		<div id="egImg">
			<img src="img/dog.png">
		</div>

		<div class="task">
			<p>A black dog is poking his head from under a desk or table, and a person is holding its red collar.</p>
			<p>A black dog is trying to get attention from under a desk.</p>
			<p>An image showing a person hand caressing a black dog.</p>
			<p>Black dog under the table wanting to get petted.</p>
			<p>I see a black dog getting his face rubbed.</p>
		</div>
	</div>
	<h3> Task 2: Rank the elements highlighted</h3>
	<div class="task">
			<p>
				<span> I think the most important element is</span>
				<select name="element1" class="rankListTest"></select>
			</p>
			<p>
				<span> I think the second important element is</span>
				<select name="element2" class="rankListTest"></select>
			</p>
			<p>
				<span> I think the third important element is</span>
				<select name="element3" class="rankListTest"></select>
			</p>
			<p>
				<span> I think the forth important element is</span>
				<select name="element4" class="rankListTest"></select>
			</p>
			<p>
				<span> I think the fifth important element is</span>
				<select name="element5" class="rankListTest"></select>
			</p>
		</div>

	<div>
		<button class="ud" type="button" onclick="undo('rankListTest')"><i class="fas fa-history"></i>  Undo last step</button>
		<button class="ca" type="button" onclick="clearAll('rankListTest')"><i class="fas fa-trash-alt"></i>  Clear all</button>
	</div>

	<h3> Task 3: Choose the best caption </h3>
	<div class="task">
		
		<input type="radio" name="bestTest">
		<label>A black dog is poking his head from under a desk or table, and a person is holding its red collar.</label>
	
		<br><br>
		<input type="radio" name="bestTest">
		<label>A black dog is trying to get attention from under a desk.</label>
	
		<br><br>
		<input type="radio" name="bestTest">
		<label>An image showing a person hand caressing a black dog.</label>

		<br><br>
		<input type="radio" name="bestTest">
		<label>Black dog under the table wanting to get petted.</label>
		<br><br>
		<input type="radio" name="bestTest">
		<label>I see a black dog getting his face rubbed.</label>
	</div>

		<br>
		<br>
		<br>
		<label class="reason">Explain the reason</label>
		<br>
		<br>
		<textarea name="reason"></textarea>
		<br>
		<button type="button" id="test" onclick="testify()">Submit Test</button>

</div>



<!-- amt dynamic input part -->
<div id="content" style="display:none">

<form name='mturk_form' method='post' id='mturk_form' action='https://workersandbox.mturk.com/mturk/externalSubmit'>
<!-- <form name='mturk_form' method='post' id='mturk_form' action='https://www.mturk.com/mturk/externalSubmit'> -->
<input type="hidden" value="" name="assignmentId" id="assignmentId">
<input type="hidden" value="" id="reportId">


	<h1>Select the important elements in the captions!</h1>
	<div onmouseup="labelText('rankList')">
		<h3> Task 1: Highlight the 5 important elements</h3>
		<div id="capImg"></div>
		<button id="rotateImg" type="button"><i class="fas fa-redo-alt"></i></button>		
		<div class="task">
			<p class="c1"></p>
			<p class="c2"></p>
			<p class="c3"></p>
			<p class="c4"></p>
			<p class="c5"></p>
		</div>
	</div>

		<h3> Task 2: Rank the elements highlighted</h3>
		<div class="task">
			<p>
				<span> I think the most important element is</span>
				<select name="element1" class="rankList"></select>
			</p>
			<p>
				<span> I think the second important element is</span>
				<select name="element2" class="rankList"></select>
			</p>
			<p>
				<span> I think the third important element is</span>
				<select name="element3" class="rankList"></select>
			</p>
			<p>
				<span> I think the forth important element is</span>
				<select name="element4" class="rankList"></select>
			</p>
			<p>
				<span> I think the fifth important element is</span>
				<select name="element5" class="rankList"></select>
			</p>
		</div>

	<div>
		<button class="ud" type="button" onclick="undo('rankList')"><i class="fas fa-history"></i>  Undo last step</button>
		<button class="ca" type="button" onclick="clearAll('rankList')"><i class="fas fa-trash-alt"></i>  Clear all</button>
	</div>


	<h3> Task 3: Choose the best caption </h3>
	<div class="task">
		<input type="radio" name="best" id="b1">
		<label class="c1"></label>
		<br><br>
		<input type="radio" name="best" id="b2">
		<label class="c2"></label>
		<br><br>
		<input type="radio" name="best" id="b3">
		<label class="c3"></label>
		<br><br>
		<input type="radio" name="best" id="b4">
		<label class="c4"></label>
		<br><br>
		<input type="radio" name="best" id="b5">
		<label class="c5"></label>
	</div>
		<br>
		<br>
		<br>
		<label class="reason">Explain the reason</label>
		<br>
		<br>
		<textarea name="reason" oninvalid="setCustomValidity('You need to write your reason.');" onchange="setCustomValidity('');" required></textarea>
		<br>
		<br>
		<div class="cmt">
			<label class="comment">Please let us know your suggestions.</label>
			<br>
			<br>
			<textarea name="comment"></textarea>
		</div>
		
		<br>
		
		<input type="submit" name="s" value="Submit">


</div>


</form>


<script type="text/javascript" src="index.js"></script>
</body>
</html>
